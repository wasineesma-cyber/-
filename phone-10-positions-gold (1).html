<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ‚Äî 10 ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á (‡∏ó‡∏≠‡∏á‡∏î‡∏≥)</title>
  <meta name="description" content="‡πÄ‡∏ß‡πá‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏ö‡∏ö 10 ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ‡πÇ‡∏ó‡∏ô‡∏ó‡∏≠‡∏á‡∏î‡∏≥ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏´‡∏£‡∏π ‡∏Ç‡∏•‡∏±‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° ‡∏Ñ‡∏π‡πà‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πà‡∏ô ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏±‡πâ‡∏ô ‡πÜ">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Thai:wght@500;700&family=Prompt:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0b0d;
      --bg2:#141318;
      --panel: rgba(18,18,22,.7);
      --panel2: rgba(18,18,22,.55);
      --border: rgba(255,215,128,.16);
      --ink:#f5efe0;
      --muted:#bcaf98;
      --gold1:#f5c86a;
      --gold2:#d9a441;
      --ok:#2fd37b;
      --warn:#ffb84d;
      --bad:#ff6b6b;
      --shadow: 0 18px 48px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.04);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:
        radial-gradient(900px 600px at 10% 0%, rgba(245,200,106,.08), transparent 60%),
        radial-gradient(900px 600px at 100% 10%, rgba(217,164,65,.08), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      color:var(--ink);
      font-family:'Prompt',ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans Thai",Arial;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .container{max-width:1040px;margin:0 auto;padding:28px 18px 80px}
    header{
      background:var(--panel); backdrop-filter:blur(10px);
      border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow);
      padding:22px 20px; margin-bottom:16px; position:relative; overflow:hidden;
    }
    header:before{
      content:""; position:absolute; inset:auto -80px -80px auto; width:240px; height:240px; border-radius:50%;
      background: radial-gradient(circle at 30% 30%, rgba(245,200,106,.13), transparent 60%);
    }
    h1{
      font-family:'Noto Serif Thai',serif; font-size:32px; margin:0 0 6px; letter-spacing:.3px;
      background: linear-gradient(180deg, var(--gold1), var(--gold2));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow: 0 1px 0 rgba(255,255,255,.05);
    }
    .sub{color:var(--muted);margin:0;font-size:14px}
    .bar{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px;align-items:center}
    .input{
      flex:1 1 300px; display:flex; gap:8px; align-items:center;
      background:var(--panel2); border:1px solid var(--border); border-radius:12px; padding:10px 12px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.04);
    }
    .input input{
      flex:1; border:0; outline:0; background:transparent; color:var(--ink); font-size:16px; font-weight:700; letter-spacing:.5px;
    }
    .btn{
      padding:11px 14px; border-radius:12px; border:0; cursor:pointer; font-weight:800; color:#221a10;
      background: linear-gradient(180deg, var(--gold1), var(--gold2));
      box-shadow: 0 10px 22px rgba(217,164,65,.25), inset 0 1px 0 rgba(255,255,255,.3);
    }
    .btn:active{transform:translateY(1px)}
    .btn-ghost{
      padding:11px 14px;border-radius:12px;border:1px solid var(--border);
      background:var(--panel2);cursor:pointer;font-weight:700;color:var(--ink)
    }
    .panel{
      background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow);
      padding:16px; margin-top:12px
    }
    .label{font-weight:700; color:var(--gold1); letter-spacing:.2px}
    .grid10{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:10px;margin-top:12px}
    @media(max-width:840px){.grid10{grid-template-columns:repeat(2,minmax(0,1fr))}}
    .card{
      background: rgba(15, 15, 20, .75);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px;
      box-shadow: 0 10px 26px rgba(0,0,0,.45);
    }
    .slot{display:flex;align-items:center;gap:10px; margin-bottom:6px}
    .digit{
      width:34px;height:34px;border-radius:8px;
      background: radial-gradient(circle at 30% 30%, rgba(245,200,106,.35), rgba(217,164,65,.22));
      display:inline-flex;align-items:center;justify-content:center;font-weight:900;color:#221a10;
      border:1px solid rgba(245,200,106,.5);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.2);
    }
    .pos{font-size:12px;color:var(--muted)}
    .score{font-weight:900}
    .badge{
      display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(217,164,65,.12);
      border:1px solid var(--border);font-weight:800;font-size:12px;color:var(--ink)
    }
    .grid2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
    @media(max-width:840px){.grid2{grid-template-columns:1fr}}
    .muted{color:var(--muted);font-size:12px;text-align:center;margin-top:18px}
    .tag{display:inline-block;margin:3px 4px 0 0;padding:4px 8px;border-radius:999px;background:rgba(217,164,65,.12);border:1px solid var(--border);font-size:12px;font-weight:700}
    a{color:var(--gold1)}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ‚Äî 10 ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</h1>
      <p class="sub">‡πÇ‡∏ó‡∏ô‡∏ó‡∏≠‡∏á‡∏î‡∏≥ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏´‡∏£‡∏π‡∏Ç‡∏•‡∏±‡∏á ‚Ä¢ ‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏π‡πà‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πà‡∏ô & ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</p>
      <div class="bar">
        <div class="input">
          <span>üì±</span>
          <input id="phone" inputmode="numeric" pattern="[0-9]*" placeholder="‡πÉ‡∏™‡πà‡πÄ‡∏ö‡∏≠‡∏£‡πå 10 ‡∏´‡∏•‡∏±‡∏Å ‡πÄ‡∏ä‡πà‡∏ô 0912345678" />
        </div>
        <button class="btn" id="analyzeBtn">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</button>
        <button class="btn-ghost" id="sampleBtn">‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
        <button class="btn-ghost" id="shareBtn">‡πÅ‡∏ä‡∏£‡πå/‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ú‡∏•</button>
      </div>
    </header>

    <section class="panel">
      <div class="label">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á 10 ‡∏´‡∏•‡∏±‡∏Å</div>
      <div id="grid" class="grid10"></div>
    </section>

    <section class="panel">
      <div class="grid2">
        <div class="card">
          <div class="label">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° & ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
          <div id="summary" style="margin-top:6px;"></div>
          <div id="advice" style="margin-top:8px;"></div>
        </div>
        <div class="card">
          <div class="label">‡∏Ñ‡∏π‡πà‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πà‡∏ô (‡∏à‡∏≤‡∏Å‡πÄ‡∏•‡∏Ç‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô)</div>
          <div id="pairs" style="margin-top:6px;"></div>
        </div>
      </div>
    </section>

    <p class="muted">*‡πÅ‡∏ô‡∏ß‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πà‡∏ß‡∏°‡∏™‡∏°‡∏±‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß ‡πÇ‡∏õ‡∏£‡∏î‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏ç‡∏≤‡∏ì*</p>
  </div>

  <script>
    const POS_LABELS = [
      "‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡πÅ‡∏£‡∏Å‡∏û‡∏ö/‡∏†‡∏≤‡∏û‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå",        //1
      "‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏¥‡∏î/‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à",               //2
      "‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£/‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ",            //3
      "‡∏ê‡∏≤‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï/‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß",                 //4
      "‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏•‡∏±‡∏Å/‡∏ô‡∏¥‡∏™‡∏±‡∏¢‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô",          //5
      "‡πÇ‡∏≠‡∏Å‡∏≤‡∏™/‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏°‡∏ï‡∏ï‡∏≤",                //6
      "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å/‡∏Ñ‡∏π‡πà‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå",               //7
      "‡∏á‡∏≤‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö",                 //8
      "‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ",                   //9
      "‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå/‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"            //10
    ];

    const DIGIT_MEAN = {
      "0": { title:"‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì/‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ", plus:"‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏•‡∏∂‡∏Å‡∏ã‡∏∂‡πâ‡∏á ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏•‡∏Å‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•", minus:"‡∏•‡∏±‡∏á‡πÄ‡∏• ‡πÇ‡∏î‡∏î‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß‡∏á‡πà‡∏≤‡∏¢" },
      "1": { title:"‡∏ú‡∏π‡πâ‡∏ô‡∏≥/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô", plus:"‡∏Å‡∏•‡πâ‡∏≤‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à ‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠", minus:"‡∏î‡∏∑‡πâ‡∏≠ ‡∏≠‡∏µ‡πÇ‡∏Å‡πâ‡∏™‡∏π‡∏á" },
      "2": { title:"‡∏°‡∏¥‡∏ï‡∏£‡∏†‡∏≤‡∏û/‡∏®‡∏¥‡∏•‡∏õ‡∏∞", plus:"‡∏≠‡πà‡∏≠‡∏ô‡πÇ‡∏¢‡∏ô ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÉ‡∏à", minus:"‡∏•‡∏±‡∏á‡πÄ‡∏• ‡πÄ‡∏Å‡∏£‡∏á‡πÉ‡∏à‡πÄ‡∏Å‡∏¥‡∏ô" },
      "3": { title:"‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡πâ‡∏≤", plus:"‡πÑ‡∏ü‡πÅ‡∏£‡∏á ‡∏•‡∏á‡∏°‡∏∑‡∏≠‡πÑ‡∏ß", minus:"‡∏´‡∏∏‡∏ô‡∏´‡∏±‡∏ô ‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏á‡πà‡∏≤‡∏¢" },
      "4": { title:"‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£/‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢", plus:"‡πÄ‡∏à‡∏£‡∏à‡∏≤‡πÄ‡∏Å‡πà‡∏á ‡∏°‡∏µ‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå", minus:"‡∏ü‡∏∏‡πâ‡∏á‡∏ã‡πà‡∏≤‡∏ô ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ö‡πà‡∏≠‡∏¢" },
      "5": { title:"‡∏õ‡∏±‡∏ç‡∏ç‡∏≤/‡∏Ñ‡∏£‡∏π/‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤", plus:"‡∏°‡∏µ‡∏ß‡∏∏‡∏í‡∏¥‡∏†‡∏≤‡∏ß‡∏∞ ‡∏™‡∏°‡∏î‡∏∏‡∏•", minus:"‡∏Ñ‡∏¥‡∏î‡πÄ‡∏¢‡∏≠‡∏∞ ‡∏ä‡πâ‡∏≤" },
      "6": { title:"‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå/‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô/‡∏®‡∏¥‡∏•‡∏õ‡πå", plus:"‡πÄ‡∏°‡∏ï‡∏ï‡∏≤ ‡∏î‡∏π‡∏î‡∏µ ‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå", minus:"‡∏£‡∏±‡∏Å‡∏™‡∏ö‡∏≤‡∏¢ ‡πÄ‡∏õ‡∏¢‡πå‡πÄ‡∏Å‡πà‡∏á" },
      "7": { title:"‡∏ß‡∏¥‡∏ô‡∏±‡∏¢/‡∏≠‡∏î‡∏ó‡∏ô", plus:"‡∏™‡∏π‡πâ‡∏™‡∏∏‡∏î‡πÉ‡∏à ‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á", minus:"‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î ‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏£‡∏á‡∏Å‡∏î‡∏î‡∏±‡∏ô" },
      "8": { title:"‡∏≠‡∏≥‡∏ô‡∏≤‡∏à/‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à/‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á", plus:"‡∏Å‡∏•‡πâ‡∏≤‡∏£‡∏∏‡∏Å ‡∏Å‡∏•‡πâ‡∏≤‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏á", minus:"‡∏î‡∏∏ ‡∏£‡πâ‡∏≠‡∏ô‡πÅ‡∏£‡∏á ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á" },
      "9": { title:"‡∏™‡∏≤‡∏Å‡∏•/‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÉ‡∏´‡∏°‡πà/‡∏ö‡∏∏‡∏ç", plus:"‡πÑ‡∏Æ‡πÄ‡∏ó‡∏Ñ ‡πÑ‡∏ß‡∏ï‡πà‡∏≠‡∏Å‡∏£‡∏∞‡πÅ‡∏™ ‡∏à‡∏¥‡∏ï‡∏≠‡∏≤‡∏™‡∏≤", minus:"‡∏Ñ‡∏≤‡∏î‡πÄ‡∏î‡∏≤‡∏¢‡∏≤‡∏Å ‡∏ß‡∏π‡∏ö‡∏ß‡∏≤‡∏ö" },
    };

    // ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏° (‡∏ö‡∏≤‡∏•‡∏≤‡∏ô‡∏ã‡πå/‡∏ö‡∏ß‡∏Å): 5,6,1,2,9,8(‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô),4,3,0,7
    const DIGIT_SCORE = {0:0,1:1,2:1,3:0,4:1,5:2,6:2,7:-1,8:1,9:1};

    const PAIR_DICT = {
      "15":"‡∏ú‡∏π‡πâ‡∏ô‡∏≥‡∏°‡∏µ‡∏ß‡∏∏‡∏í‡∏¥‡∏†‡∏≤‡∏ß‡∏∞",
      "51":"‡∏ß‡∏∏‡∏í‡∏¥‡∏†‡∏≤‡∏ß‡∏∞‡∏û‡∏≤‡∏ú‡∏π‡πâ‡∏ô‡∏≥",
      "24":"‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå‡∏Å‡∏≤‡∏£‡∏û‡∏π‡∏î ‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î",
      "42":"‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏ß‡∏•",
      "36":"‡∏£‡∏±‡∏Å-‡πÄ‡∏á‡∏¥‡∏ô ‡∏•‡∏á‡∏ï‡∏±‡∏ß",
      "63":"‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",
      "56":"‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡∏µ",
      "65":"‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏´‡∏ô‡∏∏‡∏ô-‡∏ê‡∏≤‡∏ô‡∏∞‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á",
      "78":"‡∏≠‡∏≥‡∏ô‡∏≤‡∏à-‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô (‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á)",
      "87":"‡∏ô‡∏±‡∏Å‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡∏•‡πâ‡∏≤‡∏ä‡∏ô (‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÉ‡∏à‡∏£‡πâ‡∏≠‡∏ô)",
      "19":"‡πÑ‡∏Æ‡πÄ‡∏ó‡∏Ñ/‡∏Å‡πâ‡∏≤‡∏ß‡∏™‡∏≤‡∏Å‡∏•",
      "91":"‡∏†‡∏≤‡∏û‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢",
      "22":"‡∏°‡∏¥‡∏ï‡∏£‡∏†‡∏≤‡∏û/‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£",
      "66":"‡πÄ‡∏°‡∏ï‡∏ï‡∏≤ ‡∏£‡∏™‡∏ô‡∏¥‡∏¢‡∏°‡∏î‡∏µ",
      "44":"‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡∏ï‡πå/‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏à‡πâ‡∏≤‡∏ô",
      "99":"‡πÇ‡∏ä‡∏Ñ‡∏ö‡∏∏‡∏ç/‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå"
    };

    const phoneEl = document.getElementById('phone');
    const analyzeBtn = document.getElementById('analyzeBtn');
    const sampleBtn = document.getElementById('sampleBtn');
    const shareBtn = document.getElementById('shareBtn');
    const gridEl = document.getElementById('grid');
    const summaryEl = document.getElementById('summary');
    const adviceEl = document.getElementById('advice');
    const pairsEl = document.getElementById('pairs');

    function digitsOnly(s){ return (s||"").replace(/\D/g,""); }
    function normalizePhone(s){
      const d = digitsOnly(s);
      if(d.length>=10) return d.slice(-10);
      return d;
    }

    function analyzeNumber(num10){
      const arr = num10.split("");
      const cards = arr.map((d,i)=>{
        const m = DIGIT_MEAN[d];
        let score = DIGIT_SCORE[d];
        if(i===8 && score>0) score = score-1; // ‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏ñ‡πà‡∏ß‡∏á‡∏ö‡∏ß‡∏Å‡∏•‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
        return {pos:i+1, d, label:POS_LABELS[i], ...m, score};
      });
      const total = cards.reduce((a,c)=>a+c.score,0);
      const mood = total>=8? "‡∏ö‡∏ß‡∏Å‡∏°‡∏≤‡∏Å ‚úÖ" : total>=4? "‡∏ö‡∏ß‡∏Å" : total>=0? "‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á" : total>=-3? "‡∏ï‡∏¥‡∏î‡∏•‡∏ö‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢" : "‡∏ï‡∏¥‡∏î‡∏•‡∏ö ‚ö†Ô∏è";
      const sumText = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: ${total >= 0 ? "+"+total : total} ‚Ä¢ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°: ${mood}`;

      const pairs = [];
      for(let i=0;i<arr.length-1;i++){
        const k = arr[i]+arr[i+1];
        if(PAIR_DICT[k]) pairs.push({pair:k, text:PAIR_DICT[k], idx:i});
      }

      let advice = "";
      if(total>=8) advice = "‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Å‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏ç‡πà ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏á‡∏≤‡∏ô/‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏à‡∏∏‡∏î‡πÅ‡∏Ç‡πá‡∏á ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤ 7 ‡∏ß‡∏±‡∏ô";
      else if(total>=4) advice = "‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡πÑ‡∏õ ‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô";
      else if(total>=0) advice = "‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏á‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß/‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏•‡∏î‡∏™‡∏¥‡πà‡∏á‡∏£‡∏ö‡∏Å‡∏ß‡∏ô ‡πÄ‡∏ï‡∏¥‡∏°‡∏û‡∏•‡∏±‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û";
      else advice = "‡∏ä‡∏∞‡∏•‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÉ‡∏´‡∏ç‡πà ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏á‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á ‡∏Ñ‡∏∏‡∏¢‡∏ï‡∏£‡∏á ‡πÜ ‡∏ï‡∏±‡πâ‡∏á‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡πÅ‡∏•‡πâ‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà";

      return {cards,total,sumText,pairs,advice};
    }

    function renderResult(a, num10){
      gridEl.innerHTML = "";
      a.cards.forEach(c=>{
        const el = document.createElement('div');
        el.className = "card";
        el.innerHTML = `
          <div class="slot">
            <div class="digit">${c.d}</div>
            <div>
              <div class="pos">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ${c.pos}: ${c.label}</div>
              <div><strong>${c.title}</strong> ‚Äî ${c.plus}. <span style="color:${c.score<0?'var(--bad)':c.score>0?'var(--ok)':'#9a8f7a'}" class="score">${c.score>0?`+${c.score}`:c.score}</span></div>
              <div style="color:var(--muted); font-size:12px">‡∏£‡∏∞‡∏ß‡∏±‡∏á: ${c.minus}</div>
            </div>
          </div>
        `;
        gridEl.appendChild(el);
      });

      summaryEl.innerHTML = `<span class="badge">‡πÄ‡∏ö‡∏≠‡∏£‡πå: ${num10}</span> <span class="badge">${a.sumText}</span>`;
      adviceEl.textContent = "‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: " + a.advice;

      pairsEl.innerHTML = "";
      if(a.pairs.length===0){
        pairsEl.textContent = "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡∏π‡πà‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πà‡∏ô‡∏ï‡∏≤‡∏°‡∏û‡∏à‡∏ô‡∏≤‡∏ô‡∏∏‡∏Å‡∏£‡∏°‡∏¢‡πà‡∏≠ (‡∏¢‡∏±‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏á‡∏Ñ‡πå‡∏£‡∏ß‡∏°‡πÑ‡∏î‡πâ)";
      }else{
        a.pairs.slice(0,8).forEach(p=>{
          const tag = document.createElement('span');
          tag.className = "tag";
          tag.textContent = `${p.pair} ‚Äî ${p.text}`;
          pairsEl.appendChild(tag);
        });
      }
    }

    function runAnalyze(){
      const raw = phoneEl.value;
      const num = normalizePhone(raw);
      if(num.length!==10){
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö 10 ‡∏´‡∏•‡∏±‡∏Å (‡∏à‡∏∞‡πÉ‡∏ä‡πâ 10 ‡∏ï‡∏±‡∏ß‡∏ó‡πâ‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å)");
        return;
      }
      const a = analyzeNumber(num);
      renderResult(a, num);
      buildShare(num, a);
      if(navigator.vibrate) navigator.vibrate(20);
    }

    function randomSample(){
      const prefixes = ["06","08","09"];
      let s = prefixes[Math.floor(Math.random()*prefixes.length)];
      while(s.length<10){ s += Math.floor(Math.random()*10); }
      phoneEl.value = s;
      runAnalyze();
    }

    function buildShare(num, a){
      const lines = [];
      lines.push(`‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå: ${num}`);
      lines.push(a.sumText);
      lines.push(`‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ${a.advice}`);
      if(a.pairs.length>0){
        lines.push("‡∏Ñ‡∏π‡πà‡πÄ‡∏•‡∏Ç‡πÄ‡∏î‡πà‡∏ô: " + a.pairs.map(p=>`${p.pair}(${p.text})`).slice(0,6).join(", "));
      }
      const text = lines.join("\n");
      shareBtn.onclick = async ()=>{
        if(navigator.share){
          try{ await navigator.share({title:"‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ö‡∏≠‡∏£‡πå 10 ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á", text}); }catch(e){}
        }else{
          await navigator.clipboard.writeText(text);
          shareBtn.textContent = "‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß ‚úÖ"; setTimeout(()=>shareBtn.textContent="‡πÅ‡∏ä‡∏£‡πå/‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ú‡∏•",1200);
        }
      }
    }

    analyzeBtn.addEventListener('click', runAnalyze);
    sampleBtn.addEventListener('click', randomSample);
    phoneEl.addEventListener('keydown', e=>{ if(e.key==="Enter") runAnalyze(); });
  </script>
</body>
</html>
